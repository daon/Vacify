@model VacifyWeb.ViewModels.VacationRequestViewModel

@{
    ViewBag.Title = "Vacify";
}

<h1 class="page-header">Request Vacation</h1>
<div class="row" ng-controller="Calendar as calendar">
    <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="thumbnail">
            <img src="@Model.PictureUrl" alt="@Model.Name" class="img-responsive" />
            <div class="caption">
                <h3>@Model.Name</h3>
                <p>Manager: @Model.Manager</p>
                <button type="button" class="btn btn-default" ng-click="calendar.requestVacation()"><span class="glyphicon glyphicon-plane" aria-hidden="true"></span> Vacation Request</button>
            </div>
        </div>
    </div>
    <div class="col-md-9 col-sm-6 col-xs-12">
        <div ui-calendar="calendar.config" ng-model="calendar.eventSources" calendar="vacationRequest"></div>
    </div>
</div>

@section scripts {
    <script>
        (function (angular) {
            angular
                .module('vacify')
                .constant('spHostUrl', '@ViewBag.SPHostUrl');

            angular.element(document).ready(function () {
                angular.bootstrap(document, ['vacify']);
            });
        })(window.angular);
    </script>
}