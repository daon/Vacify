@model VacifyWeb.ViewModels.VacationRequestViewModel

@{
    ViewBag.Title = "Vacify";
}

<div class="page-header">
    <h1><span class="glyphicon glyphicon-calendar"></span> Vacify <small>Request Vacation</small></h1>
</div>
<div class="row" ng-controller="Calendar as calendar">
    <div class="alert alert-success" role="alert" ng-show="calendar.successVisible" ng-animate="{show: 'fade-show', hide: 'fade-hide'}">{{ calendar.successMessage }}</div>
    <div class="alert alert-danger" role="alert" ng-show="calendar.errorVisible">{{ calendar.errorMessage }}</div>
    <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="thumbnail">
            <img src="@Model.PictureUrl" alt="@Model.Name" class="img-responsive" />
            <div class="caption">
                <h3>@Model.Name</h3>
                <p>Manager: @Model.Manager</p>
                <button type="button" class="btn btn-default" ng-click="calendar.requestVacation()"><span class="glyphicon glyphicon-plane" aria-hidden="true"></span> Vacation Request</button>
            </div>
        </div>
    </div>
    <div class="col-md-9 col-sm-6 col-xs-12">
        <div ui-calendar="calendar.config" ng-model="calendar.eventSources" calendar="vacationRequest"></div>
    </div>
</div>

@section scripts {
    <script>
        (function (angular) {
            angular
                .module('vacify')
                .constant('spHostUrl', '@ViewBag.SPHostUrl');

            angular.element(document).ready(function () {
                angular.bootstrap(document, ['vacify']);
            });
        })(window.angular);
    </script>
}